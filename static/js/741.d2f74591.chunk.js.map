{"version":3,"file":"static/js/741.d2f74591.chunk.js","mappings":"mSACA,EAA4B,+BAA5B,EAA4E,oCAA5E,EAAwH,2BAAxH,EAA0J,0BAA1J,EAA2M,0CAA3M,EAA4P,0BAA5P,EAAuS,oCAAvS,EAAmV,2BAAnV,EAA8X,mCAA9X,EAAya,2BAAza,EAA2c,0BAA3c,EAAgf,8BAAhf,EAA2hB,gCAA3hB,EAAukB,+B,SC+FvkB,MA5EA,WACE,IAAQA,GAAWC,EAAAA,EAAAA,MAAXD,OACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IAC9B,GAAiCD,EAAAA,EAAAA,IAAYE,EAAAA,IAArCC,EAAR,EAAQA,GAAIC,EAAZ,EAAYA,KAAMC,EAAlB,EAAkBA,MAAOC,EAAzB,EAAyBA,IACzB,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAsCF,EAAAA,EAAAA,WAAS,GAA/C,eAAOG,EAAP,KAAoBC,EAApB,KAEMC,EAASb,EAAUc,MAAK,SAAAC,GAAI,OAAIA,EAAKX,KAAOY,OAAOpB,MA8BzD,OAZAqB,EAAAA,EAAAA,YAAU,YACR,iBAAC,sGACmBC,EAAAA,EAAAA,MAAkBX,GADrC,OACOY,EADP,QAEOC,EAAS,IAAIC,YACZC,cAAcH,GACrBC,EAAOG,UAAY,WACjB,IAAMC,EAAaJ,EAAOK,OAC1Bf,EAAWc,IANd,0CAAD,KASC,CAACjB,KAGF,iBAAKmB,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAcpB,IAAKE,EAASmB,IAAKvB,KACjD,gBACEqB,UAAWC,EACXpB,I,67BACAqB,IAAI,OACJC,QAAS,kBAAMjB,GAAe,UAGlC,iBAAKc,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,SAA6BtB,KAC7B,iBAAKqB,UAAWC,EAAhB,WACE,cAAGD,UAAWC,EAAd,qBAAkCrB,MAClC,iBAAKoB,UAAWC,EAAsBE,QA3CjB,WAC3B,GAAIhB,EACFf,GAASgC,EAAAA,EAAAA,IAAc1B,QADzB,CAKA,IAAM2B,EAAO,CACX3B,GAAAA,EACAC,KAAAA,EACAC,MAAAA,EACAG,QAAAA,GAGFX,GAASkC,EAAAA,EAAAA,IAAcD,MA8BjB,WACE,gBAAKL,UAAWC,EAAapB,IAAK0B,EAAAA,EAAML,IAAI,UAC5C,gBACEF,UAAS,UAAKC,EAAL,YAAqBd,EAASc,EAAkB,gBAKjE,SAAC,KAAD,CACEd,OAAQF,EACRuB,UAAWtB,EACXH,QAASA,KAEX,mBACEiB,UAAWC,EACXE,QAAS,kBAAM/B,GAASqC,EAAAA,EAAAA,IAAiB,QAF3C,UAIE,gBAAKT,UAAWC,EAAkBpB,I,y3FAAWqB,IAAI","sources":["webpack://react-homework-template/./src/pages/productPage/ProductPage.module.scss?1108","pages/productPage/ProductPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ProductPage_container__0g+0i\",\"imageContainer\":\"ProductPage_imageContainer__VNAmL\",\"image\":\"ProductPage_image__OXOUq\",\"zoom\":\"ProductPage_zoom__WGqx1\",\"containerInformation\":\"ProductPage_containerInformation__QDRCK\",\"name\":\"ProductPage_name__Jf9Zo\",\"priceContainer\":\"ProductPage_priceContainer__al2jj\",\"price\":\"ProductPage_price__OdSNq\",\"likeContainer\":\"ProductPage_likeContainer__2RYA1\",\"black\":\"ProductPage_black__NtLGb\",\"like\":\"ProductPage_like__oY9u6\",\"blackAll\":\"ProductPage_blackAll__Tv3Lt\",\"buttonBack\":\"ProductPage_buttonBack__1aqpK\",\"backImage\":\"ProductPage_backImage__-+PPH\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { getChoosesProducts, getOneProduct } from '../../redux/selectors';\nimport {\n  chooseProduct,\n  deleteProduct,\n  deleteOneProduct,\n} from '../../redux/actions';\nimport { productsAPI } from '../../axiosAPI';\n\nimport { ImageModal } from '../../components/shops';\n\nimport like from '../../image/like.svg';\nimport zoom from '../../image/zoom.png';\nimport back from '../../image/back.png';\n\nimport styles from './ProductPage.module.scss';\n\nfunction ProductPage() {\n  const { itemId } = useParams();\n  const dispatch = useDispatch();\n  const favorites = useSelector(getChoosesProducts);\n  const { id, name, price, src } = useSelector(getOneProduct);\n  const [picture, setPicture] = useState('');\n  const [modalActive, setModalActive] = useState(false);\n\n  const active = favorites.find(item => item.id === Number(itemId));\n\n  const handleClickFavorites = () => {\n    if (active) {\n      dispatch(deleteProduct(id));\n      return;\n    }\n\n    const data = {\n      id,\n      name,\n      price,\n      picture,\n    };\n\n    dispatch(chooseProduct(data));\n  };\n\n  useEffect(() => {\n    (async () => {\n      const img = await productsAPI.image(src);\n      const reader = new FileReader();\n      reader.readAsDataURL(img);\n      reader.onloadend = () => {\n        const base64data = reader.result;\n        setPicture(base64data);\n      };\n    })();\n  }, [src]);\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.imageContainer}>\n        <img className={styles.image} src={picture} alt={name} />\n        <img\n          className={styles.zoom}\n          src={zoom}\n          alt=\"zoom\"\n          onClick={() => setModalActive(true)}\n        />\n      </div>\n      <div className={styles.containerInformation}>\n        <h1 className={styles.name}>{name}</h1>\n        <div className={styles.priceContainer}>\n          <p className={styles.price}>{`$ ${price}`}</p>\n          <div className={styles.likeContainer} onClick={handleClickFavorites}>\n            <img className={styles.like} src={like} alt=\"like\" />\n            <div\n              className={`${styles.black} ${active ? styles.blackAll : ''}`}\n            ></div>\n          </div>\n        </div>\n      </div>\n      <ImageModal\n        active={modalActive}\n        setActive={setModalActive}\n        picture={picture}\n      />\n      <button\n        className={styles.buttonBack}\n        onClick={() => dispatch(deleteOneProduct(null))}\n      >\n        <img className={styles.backImage} src={back} alt=\"back\" />\n      </button>\n    </div>\n  );\n}\n\nexport default ProductPage;\n"],"names":["itemId","useParams","dispatch","useDispatch","favorites","useSelector","getChoosesProducts","getOneProduct","id","name","price","src","useState","picture","setPicture","modalActive","setModalActive","active","find","item","Number","useEffect","productsAPI","img","reader","FileReader","readAsDataURL","onloadend","base64data","result","className","styles","alt","onClick","deleteProduct","data","chooseProduct","like","setActive","deleteOneProduct"],"sourceRoot":""}